<div *ngIf="state.state === 'authorized'">
  <div *ngIf="state.invite.invite === 'none'">
    <p>
      To share your grocery list with other people, first create an invitation.
    </p>
    <form [formGroup]="createInviteForm" (ngSubmit)="submitForm()">
      <mat-form-field *ngIf="state.user.displayName === undefined">
        <mat-label>Your name</mat-label>
        <input
          matInput
          [formControl]="displayNameControl"
          type="text"
          required
        />
        <mat-error>Enter your first name</mat-error>
      </mat-form-field>
      <div fxLayoutGap="1rem" fxLayout="row" fxLayoutAlign="start start">
        <button mat-button mat-raised-button color="primary" type="submit">
          CREATE
        </button>
      </div>
    </form>
  </div>
  <div *ngIf="state.invite.invite === 'exists'">
    <p>
      To share your grocery list, copy this and email or text it to someone
      else.
    </p>
    <input
      id="{{ inviteInputId }}"
      matInput
      type="url"
      readonly
      value="{{ state.invite.uri }}"
    />
    <button
      mat-button
      mat-raised-button
      color="primary"
      (click)="send({ action: 'copyInvite' })"
    >
      Copy to clipboard
    </button>
  </div>
  <div *ngIf="state.invite.invite === 'creating'">
    <mat-progress-bar></mat-progress-bar>
    <p>Creating an invitation...</p>
  </div>
</div>
<div *ngIf="state.state === 'unauthorized'">
  You need to be signed in as a registered user to share your grocery list.
</div>
<div *ngIf="state.state === 'loading'">
  <mat-progress-bar></mat-progress-bar>
</div>
